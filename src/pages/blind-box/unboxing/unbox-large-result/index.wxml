<!--pages/blind-box/unboxing/unbox-large-result/index.wxml-->
<view class="unbox-large-result">
  <scroll-view class="scroll-wrap {{showFlipSwiper ? 'hide' : ''}}" scroll-y show-scrollbar="{{false}}">
    <view class="card-list">
      <view wx:for="{{cards}}" wx:key="value" class="card-item" data-item="{{item}}" bind:tap="onCardBackClick">
        <image wx:if="{{item.special && !allFlipped}}" class="card-img" src="https://img.war6sky.com/2024/08/85f95f16088048ee937374b58bad37a9.png"></image>
        <image wx:else class="card-img" src="{{'https://objects.buff-box.com/' + item.extra.bagPic}}" mode="aspectFit"></image>
        <image wx:if="{{item.special}}" class="lightning" src="https://img.war6sky.com/2024/08/22275008f93b40c48f761f167d9f5103.png"></image>
      </view>
    </view>
  </scroll-view>
  <view class="btn-wrap {{showFlipSwiper ? 'hide' : ''}}">
    <block wx:if="{{allFlipped}}">
      <view wx:if="{{!isTrial}}" class="jump-btn" bind:tap="jumpToStorageLocker">去发货</view>
      <view class="close-btn" bind:tap="handleClose">再抽一次</view>
    </block>
    <view wx:else class="flip-btn" bind:tap="handleFlip">翻卡</view>
  </view>
  <view wx:if="{{showFlipSwiper}}" class="swiper-wrap">
    <margin-swiper items="{{specialCards}}" bind:finished="onFlipFinished"></margin-swiper>
  </view>
</view>