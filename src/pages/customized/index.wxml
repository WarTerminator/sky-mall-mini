<navigation-bar title="定制广场" back="{{false}}" color="black" background="#FFF"></navigation-bar>
<scroll-view
  class="scroll-area"
  type="custom"
  scroll-y
  show-scrollbar="{{false}}"
  bindscrolltolower="handleScrollEnd"
>
  <view class="category">
    <view class="category-content">
      <view class="category-item" wx:for="{{category}}" wx:key="index">
        <image mode="widthFix" src="{{IMG_PRE}}customized-category-{{index}}.png" />
        <text class="category-name">{{item.name}}》</text>
      </view>
    </view>
  </view>
  <view class="recommend">
    <view class="recommend-title">
      <view class="recommend-title-left">本月推荐</view>
      <view class="recommend-title-right">查看全部</view>
    </view>
    <view class="recommend-goods-wrapper">
      <swiper class="recommend-goods" previous-margin="8px" display-multiple-items="{{3.4}}" autoplay="{{true}}">
        <swiper-item class="recommend-goods-item" wx:for="{{recommendGoods}}" wx:key="index">
          <view class="good-pic"><image src="{{IMG_PRE}}demo.png" /></view>
          <view class="good-name">亚克力挂件</view>
          <view class="good-price">
            <text class="good-price-num">¥12</text>
            <text class="good-price-text">起</text>
          </view>
        </swiper-item>
      </swiper>
    </view>
  </view>
  <sticky-section push-pinned-header="{{false}}">
    <sticky-header style="position: sticky; top: 0; z-index: 1; display: block;">
      <scroll-view
        class="tab-list"
        scroll-x
        type="list"
        show-scrollbar="{{false}}"
        enable-flex
        scroll-with-animation
        scroll-into-view="{{intoView}}"
        scroll-into-view-alignment="center"
      >
        <block wx:for="{{tabs}}" wx:key="id">
          <view class="tab-item" id="tab-{{index}}">
            <text class="tab-name {{tabSelected === index ? 'selected' : ''}}" data-id="{{index}}" bindtap="handleTab">{{item.name}}</text>
          </view>
        </block>
      </scroll-view>
    </sticky-header>
  </sticky-section>
  <grid-view
    padding="{{[6, 6, 6, 6]}}"
    cross-axis-gap="6"
    main-axis-gap="10"
    cross-axis-count="2"
    type="masonry"
  >
    <block wx:for="{{goods}}" wx:key="index">
      <goods-card item="{{item}}"></goods-card>
    </block>
  </grid-view>
  <view wx:if="{{!goods.length && !init}}" class="empty"></view>
</scroll-view>