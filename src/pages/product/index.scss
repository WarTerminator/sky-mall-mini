@import '../../variables.scss';

page {
  height: 100%;
  position: relative;
  background: global.$bgColor;
}

.nav-center {
  font-size: 20rpx;
  font-weight: normal;
  color: #A2A2A2;
  @include flexRowStart;
  &::before {
    margin-right: 10rpx;
    content: '';
    @include bgImg(26, 30, 'shield.png')
  }
}
.nav-right {
  @include flexRowCenter;
  @include bgImg(28, 26, 'home.png');
  width: 58rpx;
  height: 58rpx;
  background-size: 28rpx 26rpx;
  border: 1rpx solid #E9E9E9;
  border-radius: 58rpx;
}

.product-pic-section {
  position: relative;
  height: 750rpx;
}
.product-pic-section-swiper, .swiper-item, .swiper-item-pic {
  height: 100%;
}
.swiper-item-pic {
  width: 100%;
}
.product-pic-section-swiper {
  position: relative;
}
.swiper-item-count {
  position: absolute;
  left: 50%;
  bottom: 16rpx;
  width: 80rpx;
  height: 50rpx;
  border-radius: 123rpx;
  font-size: 30rpx;
  font-weight: bold;
  line-height: 30rpx;
  letter-spacing: 0rpx;
  color: #3A3A3A;
  opacity: 1;
  background: #FFFFFF;
  transform: translate(-50%, 0);
  z-index: 0;
  @include flexRowCenter;
}

.product-info-section {
  padding: 34rpx 30rpx 28rpx;
  margin-top: 20rpx;
  margin-left: 20rpx;
  width: 710rpx;
  // height: 230rpx;
  border-radius: 20rpx;
  opacity: 1;
  background: #FCFCFC;
  box-sizing: border-box;
  .info-price {
    @include flexRowBetween;
    align-items: center;
    &-left {
      @include flexRowStart;
      flex: 1;
    }
    .info-price-now {
      font-size: 70rpx;
      font-weight: bold;
      line-height: 30rpx;
      color: #1A283B;
      @include flexRowCenter;
      &::before {
        margin-right: 20rpx;
        content: '¥';
        font-size: 40rpx;
        font-weight: 600;
        line-height: 30rpx;
        letter-spacing: 0px;
        color: #1A283B;
      }
    }
    .info-price-original {
      margin-left: 17rpx;
      opacity: 0.4;
      font-size: 30rpx;
      font-weight: bold;
      line-height: 30rpx;
      letter-spacing: 0px;
      text-decoration: line-through;
      color: #1A283B;
    }
    .info-price-sale {
      flex: 1;
      text-align: right;
      font-size: 28rpx;
      font-weight: normal;
      line-height: 30rpx;
      letter-spacing: 0px;
      color: #A2A2A2;
    }
    .info-collection {
      @include bgImg(42,40, 'collection-0.png');
      &.active {
        @include bgImg(42,40, 'collection-1.png');
      }
    }
  }
  .info-title {
    margin-top: 30rpx;
    font-size: 34rpx;
    font-weight: normal;
    line-height: 40rpx;
    letter-spacing: 0px;
    color: #3A3A3A;
  }
  .info-discount {
    margin-top: 14rpx;
    @include flexRowStart;
    align-items: center;
    font-size: 24rpx;
    font-weight: 500;
    line-height: 40rpx;
    text-align: center;
    letter-spacing: 0px;
    color: #FFFFFF;
    .info-discount-vip {
      margin-right: 43rpx;
      padding: 0 12rpx;
      background: #419CF1;
      height: 41rpx;
      border-radius: 20rpx;
      opacity: 1;
    }
    .info-discount-power {
      padding: 0 12rpx;
      background: #F15841;
      height: 41rpx;
      border-radius: 20rpx;
      opacity: 1;
    }
  }
}

.product-CPFR {
  padding-left: 46rpx;
  height: 66rpx;
  font-size: 24rpx;
  font-weight: normal;
  line-height: 32rpx;
  letter-spacing: 0px;
  color: #A2A2A2;
  @include flexRowStart;
  align-items: center;
  // &::before {
  //   margin-right: 12rpx;
  //   content: '';
  //   @include bgImg(26, 23, 'CPFR.png');
  // }
  &-title {
    margin-right: 22rpx;
  }
  .product-CPFR-font {
    color: #419CF1;
  }
}
.product-tip {
  margin-bottom: 20rpx;
  position: relative;
  margin-left: 20rpx;
  width: 710rpx;
  border-radius: 20rpx;
  opacity: 1;
  background: #FFFFFF;
  @include flexColumnCenter;
  overflow: hidden;
  align-items: center;
  .product-tip-title {
    padding-top: 12rpx;
    padding-bottom: 20rpx;
    width: 638rpx;
    font-size: 24rpx;
    font-weight: normal;
    line-height: 30rpx;
    letter-spacing: 0px;
    color: #9E9E9E;
    @include flexRowStart;
    align-items: center;
    &::before {
      content: '';
      @include bgImg(23,20,'warn.png');
    }
    &::after {
      content: '';
      @include bgImg(24,24,'arrow.png');
    }
  }
  .product-line {
    margin: 0rpx auto 20rpx;
    width: 100%;
    height: 1rpx;
    border: 1rpx dashed global.$bgColor;
    @include flexRowCenter;
    align-items: center;
    &::before {
      left: -8rpx;
    }
    &::after {
      right: -8rpx;
    }
    &::before, &::after {
      position: absolute;
      content: '';
      width: 17rpx;
      height: 17rpx;
      background: global.$bgColor;
      border-radius: 17rpx;
    }
  }
  .product-tip-logo {
    margin: 0 11rpx;
    @include bgImg(93,21,'buffun.png');
  }
  .product-tip-text {
    flex: 1;
  }
  .product-tip-content, .product-tip-content-hidden {
    width: 658rpx;
    height: 180rpx;
    font-size: 24rpx;
    font-weight: normal;
    line-height: 32rpx;
    letter-spacing: 0px;
    color: #A2A2A2;
    transition: all 200ms;
    opacity: 1;
  }
  .product-tip-content-hidden {
    height: 0px;
    opacity: 0;
  }
}

.product-imgs {
  width: 100%;
  @include flexColumnCenter;
  align-items: center;
  .product-imgs-item {
    width: 750rpx;
  }
}

.product-sku, .product-sku-hidden {
  position: absolute;
  left: 0rpx;
  bottom: 0rpx;
  width: 100%;
  // height: 100%;
  opacity: 1;
  &-mask {
    width: 100%;
    height: 100vh;
    background: rgba($color: #000000, $alpha: 0.6);
    opacity: 1;
    transition: opacity 200ms;
  }
  &-close {
    padding: 26rpx 28rpx;
    position: absolute;
    right: 36rpx;
    top: 5rpx;
    z-index: 9;
    @include flexRowCenter;
    align-items: center;
    &::after {
      position: absolute;
      content: '';
      z-index: 99;
      @include bgImg(34, 20, 'arrow-down.png');
    }
  }
  .product-sku-content {
    padding-left: 30rpx;
    position: absolute;
    width: 100%;
    max-height: 1000rpx;
    background: #fff;
    transition: max-height 200ms;
    .product-CPFR {
      padding-left: 0rpx;
    }
    .sku-info {
      @include flexRowStart;
      &-image {
        position: relative;
        margin-right: 23rpx;
        width: 200rpx;
        height: 200rpx;
        border-radius: 20rpx;
        overflow: hidden;
        @include flexRowCenter;
        &-current {
          width: 100%;
        }
        &-detail {
          position: absolute;
          bottom: 9rpx;
          right: 9rpx;
          @include bgImg(33,33,'enlarge.png');
        }
      }
      &-des {
        @include flexColumnStart;
        align-items: flex-start;
      }
      &-title {
        width: 500rpx;
        font-size: 34rpx;
        font-weight: 600;
        line-height: 34rpx;
        letter-spacing: 0px;
        color: #3A3A3A;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      &-price {
        margin-top: 41rpx;
        font-size: 70rpx;
        font-weight: bold;
        line-height: 30rpx;
        letter-spacing: 0px;
        color: #1A283B;
        &::before {
          content: '¥';
          font-size: 40rpx;
          font-weight: 600;
          line-height: 30rpx;
        }
      }
    }
    .sku-select {
      margin-top: 46rpx;
      &-title {
        margin-bottom: 15rpx;
        font-size: 24rpx;
        font-weight: normal;
        line-height: 32rpx;
        letter-spacing: 0px;
        color: #A2A2A2;
      }


      .max-num {
        margin-left: 4rpx;
        font-size: 20rpx;
      }
      &-items {
        width: 90%;
        padding-left: -23rpx;
        flex-wrap: wrap;
        @include flexRowStart;
      }
      &-item, &-item-active {
        margin-right: 23rpx;
        margin-bottom: 12rpx;
        padding: 0 20rpx;
        min-width: 106rpx;
        height: 72rpx;
        border-radius: 207rpx;
        opacity: 1;
        background: #FFFFFF;
        box-sizing: border-box;
        border: 4rpx solid #F1F1F1;
        @include flexRowCenter;
      }
      &-item-active {
        position: relative;
        &::after {
          position: absolute;
          right: -3rpx;
          bottom: -3rpx;
          content: '';
          @include bgImg(24, 24, 'selected.png');
        }
        border: 4rpx solid #419CF1;
        color: #419CF1;
      }
    }
    .sku-count {
      margin-top: 25rpx;
      padding-bottom: 14rpx;
      &-box {
        padding: 0 33rpx;
        width: 260rpx;
        height: 72rpx;
        border-radius: 154rpx;
        opacity: 1;
        background: #FFFFFF;
        box-sizing: border-box;
        border: 2rpx solid #F1F1F1;
        @include flexRowBetween;
      }
      &-sub {
        position: relative;
        top: -4rpx;
        font-size: 72rpx;
        font-weight: 300;
      }
      &-number {
        font-size: 34rpx;
        font-weight: bold;
        line-height: 32rpx;
        letter-spacing: 0px;
        color: #3A3A3A;
      }
      &-add {
        position: relative;
        top: -5rpx;
        font-size: 50rpx;
        font-weight: 500;
      }

      &-disable {
        cursor: none;
        opacity: 0.6;
      }
    }
  }
}
.product-sku-hidden {
  .product-sku-mask {
    opacity: 0;
    height: 0;
  }
  .product-sku-content {
    max-height: 0;
    overflow: hidden;
  }
}
.product-action {
  position: absolute;
  bottom: 0rpx;
  padding: 0 20rpx;
  padding-top: 20rpx;
  min-height: 130rpx;
  padding-bottom: env(safe-area-inset-bottom);
  width: 100%;
  opacity: 1;
  background: #fff;
  @include flexRowBetween;
  box-sizing: border-box;
  .product-share {
    margin-right: 19rpx;
    @include bgImg(49,49, 'we.png');
    width: 98rpx;
    height: 98rpx;
    border-radius: 98rpx;
    border: 1rpx solid #E9E9E9;
    background-size: 49rpx 49rpx;
    background-position: center center;
  }
  .product-action-btn-wrap {
    width: 100%;
    height: 98rpx;
  }
  .product-action-btn {
    width: 593rpx;
    height: 98rpx;
    font-size: 40rpx;
    color: #FFFFFF;
    background: #2C3344;
    border-radius: 98rpx;
    @include flexRowCenter;

    &.disable {
      opacity: 0.5;
    }
    .product-btn-left {
      width: 38.9%;
      height: 100%;
    }
    .product-btn-right {
      flex: 1;
      height: 100%;
    }
  }
  .product-action-ensure {
    width: 100%;
    flex: 1;
    font-size: 40rpx;
    font-weight: bold;
    line-height: 30rpx;
    text-align: center;
    letter-spacing: 0px;
    color: #FFFFFF;
    // width: 593rpx;
    height: 98rpx;
    border-radius: 130rpx;
    opacity: 1;
    @include flexRowCenter;
    background: linear-gradient(98deg, #5CCEF2 10%, #3F99F1 100%);
  }
}
.product-action-block {
  width: 100%;
  height: 110rpx;
  padding-top: 20rpx;
  padding-bottom: env(safe-area-inset-bottom);
}
.product-pic-preview {
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  // backdrop-filter: blur(30px);
  @include flexRowCenter;
  .preview-swiper {
    position: relative;
    width: 100%;
    height: 100vh;
    .preview-swiper-item {
      @include flexRowCenter;
    }
  }
  .preview-item {
    width: 100%;
    &-pic {
      width: 100%;
      height: 100%;
    }
  }
  .swiper-item-count {
    bottom: 100rpx;
  }
}
.tab-list {
  margin-bottom: 20rpx;
  background-color: #fff;
  width: 100%;
  height: 60px;
  display: flex;
  flex-direction: row;
}

.tab-item {
  display: flex;
  flex-shrink: 0;
  height: 100%;
  justify-content: center;
  align-items: center;
  padding-right: 20px;
  padding-left: 40px;
}
.tab-item:first-child {
  padding-left: 20px;
}

.tab-name {
  color: #8f8888;
  font-size: 16px;
  transition: transform .3s;
  &.selected {
    transform: scale(1.2);
    color: #2c2c2c;
    font-weight: bold;
  }
}

.product-imgs {
  width: 710rpx;
  margin: 0 auto;
  margin-top: 26rpx;
  border-radius: 20rpx;
  overflow: hidden;

  rich-text {
    width: 100%;
  }
}
